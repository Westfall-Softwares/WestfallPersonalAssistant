<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="WestfallPersonalAssistant.Views.AccessibilitySettingsView"
             AutomationProperties.Name="Accessibility Settings"
             AutomationProperties.HelpText="Configure accessibility features for better application usability">
    
    <UserControl.KeyBindings>
        <KeyBinding Gesture="Escape" Command="{Binding CloseCommand}"/>
        <KeyBinding Gesture="F1" Command="{Binding ShowHelpCommand}"/>
    </UserControl.KeyBindings>
    
    <ScrollViewer AutomationProperties.Name="Accessibility Settings Content">
        <StackPanel Spacing="20" Margin="20">
            
            <!-- Header -->
            <StackPanel Spacing="10">
                <TextBlock Text="â™¿ Accessibility Settings" 
                         FontSize="24" FontWeight="Bold"
                         AutomationProperties.Name="Accessibility Settings Title"/>
                <TextBlock Text="Configure accessibility features to improve your experience with the application"
                         FontSize="14" Foreground="Gray"
                         AutomationProperties.Name="Settings Description"/>
            </StackPanel>
            
            <!-- Visual Accessibility Section -->
            <Border Background="#F8F9FA" CornerRadius="8" Padding="20"
                    AutomationProperties.Name="Visual Accessibility Settings"
                    AutomationProperties.HelpText="Settings for visual accessibility including contrast, text size, and motion">
                <StackPanel Spacing="15">
                    <TextBlock Text="ðŸ‘ï¸ Visual Accessibility" FontSize="18" FontWeight="Bold"
                             AutomationProperties.Name="Visual Accessibility Section"/>
                    
                    <!-- High Contrast Mode -->
                    <StackPanel Spacing="5">
                        <CheckBox x:Name="HighContrastCheckBox"
                                Content="Enable High Contrast Mode"
                                IsChecked="{Binding IsHighContrastMode}"
                                AutomationProperties.Name="High Contrast Mode"
                                AutomationProperties.HelpText="Enables high contrast colors for better visibility"/>
                        <TextBlock Text="Improves visibility with enhanced color contrast"
                                 FontSize="12" Foreground="Gray" Margin="20,0,0,0"/>
                    </StackPanel>
                    
                    <!-- Text Scaling -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Text Size" FontWeight="Bold"
                                 AutomationProperties.Name="Text Size Label"/>
                        <Grid ColumnDefinitions="*,Auto,Auto,Auto">
                            <Slider Grid.Column="0" 
                                  x:Name="TextScaleSlider"
                                  Minimum="0.8" Maximum="2.0" Value="{Binding TextScalingFactor}"
                                  TickFrequency="0.1" IsSnapToTickEnabled="True"
                                  Margin="0,0,10,0"
                                  AutomationProperties.Name="Text Scaling Factor"
                                  AutomationProperties.HelpText="Adjust text size from 80% to 200% of normal size"/>
                            <Button Grid.Column="1" Content="80%" Padding="5" Margin="2"
                                  Command="{Binding SetTextSizeCommand}" CommandParameter="0.8"
                                  AutomationProperties.Name="Set Text Size to 80%"/>
                            <Button Grid.Column="2" Content="100%" Padding="5" Margin="2"
                                  Command="{Binding SetTextSizeCommand}" CommandParameter="1.0"
                                  AutomationProperties.Name="Set Text Size to 100%"/>
                            <Button Grid.Column="3" Content="150%" Padding="5" Margin="2"
                                  Command="{Binding SetTextSizeCommand}" CommandParameter="1.5"
                                  AutomationProperties.Name="Set Text Size to 150%"/>
                        </Grid>
                        <TextBlock Text="{Binding TextScalingFactor, StringFormat='Current size: {0:P0}'}"
                                 FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                    
                    <!-- Reduce Motion -->
                    <StackPanel Spacing="5">
                        <CheckBox Content="Reduce Motion and Animations"
                                IsChecked="{Binding ReduceMotion}"
                                AutomationProperties.Name="Reduce Motion"
                                AutomationProperties.HelpText="Reduces or disables animations and motion effects"/>
                        <TextBlock Text="Reduces motion for users sensitive to movement"
                                 FontSize="12" Foreground="Gray" Margin="20,0,0,0"/>
                    </StackPanel>
                    
                    <!-- Color Blindness Accommodation -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Color Blindness Accommodation" FontWeight="Bold"
                                 AutomationProperties.Name="Color Blindness Settings"/>
                        <ComboBox SelectedItem="{Binding ColorBlindnessAccommodation}"
                                AutomationProperties.Name="Color Blindness Type"
                                AutomationProperties.HelpText="Select color blindness type for appropriate color adjustments">
                            <ComboBoxItem Content="None" Tag="None"/>
                            <ComboBoxItem Content="Deuteranopia (Green-blind)" Tag="Deuteranopia"/>
                            <ComboBoxItem Content="Protanopia (Red-blind)" Tag="Protanopia"/>
                            <ComboBoxItem Content="Tritanopia (Blue-blind)" Tag="Tritanopia"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Keyboard and Navigation Section -->
            <Border Background="#F0F8FF" CornerRadius="8" Padding="20"
                    AutomationProperties.Name="Keyboard and Navigation Settings"
                    AutomationProperties.HelpText="Settings for keyboard navigation and focus management">
                <StackPanel Spacing="15">
                    <TextBlock Text="âŒ¨ï¸ Keyboard and Navigation" FontSize="18" FontWeight="Bold"
                             AutomationProperties.Name="Keyboard Navigation Section"/>
                    
                    <!-- Enhanced Keyboard Navigation -->
                    <StackPanel Spacing="5">
                        <CheckBox Content="Enhanced Keyboard Navigation"
                                IsChecked="{Binding EnhancedKeyboardNavigation}"
                                AutomationProperties.Name="Enhanced Keyboard Navigation"
                                AutomationProperties.HelpText="Enables enhanced keyboard navigation features"/>
                        <TextBlock Text="Provides additional keyboard shortcuts and navigation aids"
                                 FontSize="12" Foreground="Gray" Margin="20,0,0,0"/>
                    </StackPanel>
                    
                    <!-- Focus Indicators -->
                    <StackPanel Spacing="5">
                        <CheckBox Content="Show Focus Indicators"
                                IsChecked="{Binding ShowFocusIndicators}"
                                AutomationProperties.Name="Focus Indicators"
                                AutomationProperties.HelpText="Shows visual indicators for focused elements"/>
                        <TextBlock Text="Highlights focused elements for easier navigation"
                                 FontSize="12" Foreground="Gray" Margin="20,0,0,0"/>
                    </StackPanel>
                    
                    <!-- Keyboard Shortcuts Help -->
                    <StackPanel Spacing="5">
                        <TextBlock Text="Keyboard Shortcuts:" FontWeight="Bold"/>
                        <TextBlock FontSize="12" Foreground="Gray">
                            <Run Text="â€¢ Ctrl+1, Ctrl+2, Ctrl+3: Switch tabs"/>
                            <LineBreak/>
                            <Run Text="â€¢ Ctrl+Alt+A: Open accessibility settings"/>
                            <LineBreak/>
                            <Run Text="â€¢ F1: Show help"/>
                            <LineBreak/>
                            <Run Text="â€¢ Tab/Shift+Tab: Navigate elements"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Screen Reader Section -->
            <Border Background="#F5F5F5" CornerRadius="8" Padding="20"
                    AutomationProperties.Name="Screen Reader Settings"
                    AutomationProperties.HelpText="Settings for screen reader compatibility and announcements">
                <StackPanel Spacing="15">
                    <TextBlock Text="ðŸ”Š Screen Reader Support" FontSize="18" FontWeight="Bold"
                             AutomationProperties.Name="Screen Reader Section"/>
                    
                    <!-- Screen Reader Mode -->
                    <StackPanel Spacing="5">
                        <CheckBox Content="Enable Screen Reader Mode"
                                IsChecked="{Binding ScreenReaderMode}"
                                AutomationProperties.Name="Screen Reader Mode"
                                AutomationProperties.HelpText="Optimizes the application for screen reader usage"/>
                        <TextBlock Text="Enables additional features for screen reader users"
                                 FontSize="12" Foreground="Gray" Margin="20,0,0,0"/>
                    </StackPanel>
                    
                    <!-- Test Announcement -->
                    <StackPanel Spacing="5">
                        <Button Content="Test Screen Reader Announcement"
                              Command="{Binding TestAnnouncementCommand}"
                              Padding="10"
                              AutomationProperties.Name="Test Announcement"
                              AutomationProperties.HelpText="Sends a test message to screen readers"/>
                        <TextBlock Text="Tests screen reader functionality"
                                 FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Actions -->
            <Grid ColumnDefinitions="*,Auto,Auto,Auto" Margin="0,20,0,0">
                <Button Grid.Column="1" Content="Reset to Defaults" 
                      Command="{Binding ResetCommand}"
                      Padding="15,8" Margin="5,0"
                      AutomationProperties.Name="Reset to Defaults"
                      AutomationProperties.HelpText="Resets all accessibility settings to default values"/>
                <Button Grid.Column="2" Content="Apply Settings" 
                      Command="{Binding ApplyCommand}"
                      Padding="15,8" Margin="5,0"
                      Background="#007ACC" Foreground="White"
                      AutomationProperties.Name="Apply Settings"
                      AutomationProperties.HelpText="Applies the current accessibility settings"/>
                <Button Grid.Column="3" Content="Close" 
                      Command="{Binding CloseCommand}"
                      Padding="15,8" Margin="5,0"
                      AutomationProperties.Name="Close Settings"
                      AutomationProperties.HelpText="Closes the accessibility settings panel"/>
            </Grid>
            
            <!-- Live Region for Status Updates -->
            <Border x:Name="StatusLiveRegion" IsVisible="False"
                    AutomationProperties.LiveSetting="Polite"
                    AutomationProperties.Name="Status Updates">
                <TextBlock x:Name="StatusText" Text="" FontWeight="Bold"/>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
</UserControl>