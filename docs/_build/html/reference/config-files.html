<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration Reference</title>
    <meta name="description" content="Complete reference for configuration files and settings">
</head>
<body>
    <header>
        <h1>Configuration Reference</h1>
        <p>Complete reference for configuration files and settings</p>
    </header>
    <main>
        <div class="content">
# Configuration Reference

This document provides a comprehensive reference for all configuration options and files in Westfall Personal Assistant.

## Configuration Files

### Main Configuration File

**Location**: `config/settings.json`

```json
{
  "application": {
    "theme": "auto",
    "language": "en",
    "auto_start": false,
    "minimize_to_tray": true,
    "auto_lock_timeout": 900,
    "check_updates": true
  },
  "security": {
    "encryption_algorithm": "AES-256-GCM",
    "key_derivation": "PBKDF2",
    "iterations": 100000,
    "auto_backup": true,
    "backup_interval": 86400
  },
  "features": {
    "ai_assistant": {
      "enabled": true,
      "default_mode": "normal",
      "context_memory": true,
      "local_processing": false
    },
    "email": {
      "enabled": true,
      "sync_interval": 300,
      "offline_days": 30
    },
    "password_manager": {
      "enabled": true,
      "generator_length": 16,
      "include_symbols": true
    }
  }
}
```

### Database Configuration

**Location**: `config/database.json`

```json
{
  "engine": "sqlite",
  "path": "data/westfall.db",
  "backup_path": "backups/",
  "encryption": true,
  "vacuum_interval": 604800,
  "connection_pool": {
    "size": 5,
    "timeout": 30
  }
}
```

## Environment Variables

### Core Settings

| Variable | Description | Default |
|----------|-------------|---------|
| `WESTFALL_DATA_DIR` | Data directory path | `~/.westfall` |
| `WESTFALL_CONFIG_DIR` | Configuration directory | `~/.westfall/config` |
| `WESTFALL_LOG_LEVEL` | Logging level | `INFO` |
| `WESTFALL_LOG_FILE` | Log file path | `logs/westfall.log` |

### Security Settings

| Variable | Description | Default |
|----------|-------------|---------|
| `WESTFALL_ENCRYPTION_KEY` | Override encryption key | (none) |
| `WESTFALL_SECURE_MODE` | Enhanced security mode | `false` |
| `WESTFALL_KEYRING_SERVICE` | OS keyring service name | `westfall` |

### Feature Toggles

| Variable | Description | Default |
|----------|-------------|---------|
| `WESTFALL_ENABLE_AI` | Enable AI features | `true` |
| `WESTFALL_ENABLE_EMAIL` | Enable email client | `true` |
| `WESTFALL_ENABLE_PASSWORDS` | Enable password manager | `true` |
| `WESTFALL_ENABLE_PLUGINS` | Enable plugin system | `true` |

## Application Settings

### Theme Configuration

```json
{
  "theme": {
    "mode": "auto",
    "primary_color": "#3498db",
    "secondary_color": "#2c3e50",
    "accent_color": "#e74c3c",
    "font_family": "Segoe UI",
    "font_size": 10,
    "custom_css": ""
  }
}
```

### UI Layout Settings

```json
{
  "ui": {
    "window": {
      "width": 1200,
      "height": 800,
      "remember_size": true,
      "remember_position": true
    },
    "sidebar": {
      "width": 250,
      "collapsed": false,
      "auto_hide": false
    },
    "toolbar": {
      "visible": true,
      "position": "top",
      "icon_size": 24
    }
  }
}
```

### Keyboard Shortcuts

```json
{
  "shortcuts": {
    "global": {
      "show_hide": "Ctrl+Alt+W",
      "quick_search": "Ctrl+K",
      "ai_assistant": "Ctrl+Space"
    },
    "features": {
      "email": "Ctrl+E",
      "passwords": "Ctrl+P",
      "notes": "Ctrl+N"
    }
  }
}
```

## Security Configuration

### Encryption Settings

```json
{
  "encryption": {
    "algorithm": "AES-256-GCM",
    "key_derivation": {
      "method": "PBKDF2",
      "iterations": 100000,
      "salt_length": 32
    },
    "secure_delete": true,
    "memory_protection": true
  }
}
```

### Authentication Settings

```json
{
  "authentication": {
    "session_timeout": 3600,
    "max_failed_attempts": 5,
    "lockout_duration": 300,
    "require_2fa": false,
    "biometric_auth": false
  }
}
```

## Feature-Specific Configuration

### AI Assistant Configuration

```json
{
  "ai_assistant": {
    "providers": {
      "openai": {
        "api_key": "",
        "model": "gpt-3.5-turbo",
        "max_tokens": 2048,
        "temperature": 0.7
      },
      "local": {
        "model_path": "models/",
        "gpu_acceleration": true,
        "max_memory": "4GB"
      }
    },
    "behavior": {
      "context_window": 50,
      "memory_enabled": true,
      "learning_enabled": false,
      "response_style": "helpful"
    }
  }
}
```

### Email Configuration

```json
{
  "email": {
    "accounts": [
      {
        "name": "Primary",
        "email": "user@example.com",
        "imap": {
          "server": "imap.example.com",
          "port": 993,
          "encryption": "SSL"
        },
        "smtp": {
          "server": "smtp.example.com",
          "port": 587,
          "encryption": "TLS"
        }
      }
    ],
    "sync": {
      "interval": 300,
      "offline_days": 30,
      "download_attachments": false
    }
  }
}
```

### Password Manager Configuration

```json
{
  "password_manager": {
    "generator": {
      "default_length": 16,
      "include_uppercase": true,
      "include_lowercase": true,
      "include_numbers": true,
      "include_symbols": true,
      "exclude_ambiguous": true
    },
    "security": {
      "clipboard_timeout": 30,
      "auto_lock": true,
      "require_master_password": true
    }
  }
}
```

## Performance Configuration

### Memory Settings

```json
{
  "performance": {
    "memory": {
      "cache_size": "256MB",
      "preload_features": false,
      "gc_interval": 60
    },
    "database": {
      "connection_pool": 5,
      "query_cache": true,
      "vacuum_threshold": 0.3
    }
  }
}
```

### Network Settings

```json
{
  "network": {
    "timeout": 30,
    "retries": 3,
    "proxy": {
      "enabled": false,
      "url": "",
      "auth": false
    },
    "ssl": {
      "verify": true,
      "ca_bundle": ""
    }
  }
}
```

## Logging Configuration

### Log Levels

| Level | Description | Use Case |
|-------|-------------|----------|
| `DEBUG` | Detailed diagnostic info | Development |
| `INFO` | General information | Normal operation |
| `WARNING` | Warning messages | Potential issues |
| `ERROR` | Error messages | Error conditions |
| `CRITICAL` | Critical errors | System failures |

### Log Format

```json
{
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "file": "logs/westfall.log",
    "max_size": "10MB",
    "backup_count": 5,
    "console": false
  }
}
```

## Plugin Configuration

### Plugin Settings

```json
{
  "plugins": {
    "enabled": true,
    "auto_update": false,
    "sandbox": true,
    "paths": [
      "plugins/",
      "~/.westfall/plugins/"
    ],
    "marketplace": {
      "url": "https://plugins.westfall.com",
      "auto_check": true
    }
  }
}
```

### Plugin Manifest Example

```json
{
  "name": "Example Plugin",
  "version": "1.0.0",
  "description": "Example plugin for demonstration",
  "author": "Plugin Author",
  "main": "main.py",
  "permissions": [
    "read_notes",
    "network_access"
  ],
  "dependencies": [
    "requests>=2.25.0"
  ]
}
```

## Backup Configuration

### Backup Settings

```json
{
  "backup": {
    "enabled": true,
    "interval": 86400,
    "retention": 30,
    "location": "backups/",
    "compression": true,
    "encryption": true,
    "exclude": [
      "logs/",
      "cache/",
      "temp/"
    ]
  }
}
```

## Migration Configuration

### Version Migration

```json
{
  "migration": {
    "auto_migrate": true,
    "backup_before": true,
    "migration_path": "migrations/",
    "rollback_enabled": true
  }
}
```

## Troubleshooting Configuration Issues

### Common Issues

1. **Configuration file not found**
   - Check file permissions
   - Verify file path
   - Restore from backup

2. **Invalid JSON format**
   - Validate JSON syntax
   - Check for trailing commas
   - Use JSON validator

3. **Permission errors**
   - Check file ownership
   - Verify write permissions
   - Run as appropriate user

### Configuration Validation

```bash
# Validate configuration
python -m westfall.config validate

# Show current configuration
python -m westfall.config show

# Reset to defaults
python -m westfall.config reset
```

---

*Last updated: September 8, 2025*
        </div>
    </main>
</body>
</html>